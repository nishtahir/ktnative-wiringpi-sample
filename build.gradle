group 'com.nishtahir'
version '1.0-SNAPSHOT'

buildscript {
    repositories {
        mavenCentral()
        maven {
            url "https://dl.bintray.com/jetbrains/kotlin-native-dependencies"
        }
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-native-gradle-plugin:0.3.4"
    }
}

apply plugin: 'konan'

konan.targets = ['raspberrypi']

konanArtifacts {
    interop('wiringPi') {
        defFile 'wiringPi.def'
        includeDirs 'src/include/'
        linkerOpts '-lwiringPi -Lsrc/include/'
//        target 'raspberrypi'
    }

    program('ktpi') {
        srcFiles 'src/main/'

        libraries {
            artifact 'wiringPi'
        }

//        target('raspberrypi') {}
    }
}